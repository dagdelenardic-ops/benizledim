# Qwen - Yeni Ödev Paketi

## Rolün
Sen bu fazda **Veri bütünlüğü + kalite güvence uzmanı**sın.

## Hedef
Scrape/import sonrası verilerde tutarlılık sağla; admin panelde her içerik güvenle düzenlenebilsin.

## Zorunlu Kurallar
1. Önce `CLAUDE.md` ve güncel migration/model/controller dosyalarını oku.
2. Frontend Vue dosyalarına dokunma (`resources/js/**`).
3. Var olan business logic’i bozma; ek araç/komut/test yazarak ilerle.
4. Küçük commitler: `feat(data):`, `test(data):`, `chore(data):`.

## Görevler

### 1) Veri denetim Artisan komutu yaz
Yeni komut oluştur: `app/Console/Commands/AuditContentIntegrity.php`

Komut çıktısı şu kontrolleri raporlasın:
- Yazısı olmayan kategori/tag listesi
- Kullanıcısı eksik post var mı?
- `published` olup `published_at` boş post var mı?
- `deletion_requested_at` dolu ama status `published` olanlar (yayından düşmüş kabul)
- Yetkisiz rol değerleri (`admin/editor/author/reader` dışı)
- Slug çakışmaları (post/page/category/tag)

### 2) Backfill komutu yaz
Yeni komut: `app/Console/Commands/FixContentIntegrity.php`

Düzeltmeler:
- Boş slug’lara güvenli slug üretimi
- Geçersiz role sahip kullanıcıları `reader` yapma
- `published` + `published_at` boş ise `published_at=created_at`
- Yetim relation kayıtlarını raporlama (silme değil, rapor)

### 3) Test kapsamı
`tests/Feature` altında yeni testler yaz:
- Auth rate-limit testi (`/login` brute-force kilidi)
- Role authorization testi (`author/editor/admin` admin panel erişimleri)
- Delete workflow testi (editor silme talebi -> admin onay)

### 4) Güvenlik checklist dokümanı
Yeni dosya oluştur: `SECURITY_CHECKLIST.md`

İçerik:
- `.env` yönetimi
- Admin hesabı rotasyonu
- OAuth callback doğrulama
- Backup/restore adımları
- Incident anında yapılacaklar (şifre reset, token reset, log inceleme)

## Teslim Kriteri
- `php artisan test` yeşil.
- `php artisan list` içinde yeni komutlar görünür.
- Rapor çıktıları örnekli olarak dokümante edilmiş olsun.
